// ==UserScript==
// @name         RT All In One
// @namespace    http://tampermonkey.net/
// @version      1.2.1
// @description  Makes the UBIF RT experience more automated so that you can spend more time doing the repair and less on the paperwork.
// @author       Christopher Sullivan
// @include      https://portal.ubif.net/*
// @require      https://github.com/Ashcall3000/UBREAKIFIX/raw/master/SearchElements.js
// @require      https://github.com/serratus/quaggaJS/raw/master/dist/quagga.min.js
// @downloadURL  https://github.com/Ashcall3000/UBREAKIFIX/raw/master/RTAllInOne.min.user.js
// @updateURL    https://github.com/Ashcall3000/UBREAKIFIX/raw/master/RTAllInOne.min.user.js
// @run-at document-idle
// @grant        none
// ==/UserScript==
var RAN_WORKED=1,RAN_FAILED=-1,RAN_WAITING=0,lead_page_ran=RAN_WAITING,select_device_ran=RAN_WAITING,create_workorder_ran=RAN_WAITING,workorder_ran=RAN_WAITING;setInterval(function(){checkURL("https://portal.ubif.net/store-ops/timeclock")&&!checkExist("#update-button")&&(createTagAppend(find(".portal-actions"),"button","update-button","btn blue left-icon fastclickable","Update Script","background-color: rgb(38, 156, 216); color: white;"),createTag(find("#update-button"),"span","","fa fa-fw fa-refresh"),find("#update-button").addEventListener("click",function(){window.open("https://github.com/Ashcall3000/UBREAKIFIX/raw/master/RTAllInOne.user.js")})),checkURL("https://portal.ubif.net/pos/aqleads/edit/")?lead_page_ran==RAN_WAITING&&(lead_page_ran=leadPage()):lead_page_ran=RAN_WAITING,checkURL("https://portal.ubif.net/pos/device-type-select/lead/")?select_device_ran==RAN_WAITING&&(select_device_ran=selectDevicePage()):select_device_ran=RAN_WAITING,checkURL("https://portal.ubif.net/pos/device-repair-select/")?create_workorder_ran==RAN_WAITING&&(create_workorder_ran=createWorkOrderPage(),imei="",device_type="",part_button=null):create_workorder_ran=RAN_WAITING,checkURL("https://portal.ubif.net/pos/checkout-new/")?(workorder_ran==RAN_WAITING&&(workOrderPage(),workorder_ran=RAN_WORKED),checkExist("#ticket-button")&&checkExist("span.bg-repair-in-progress")&&"Generate Ticket"==find("#ticket-button").innerText&&(find("#ticket-button").innerText="Close Ticket")):(Waiter.clearSingle("ticket-button"),workorder_ran=RAN_WAITING)},500);var iphone_list=["iPhone 12 Pro","iPhone 12 Mini","iPhone 12 Pro Max","iPhone 12","iPhone SE (2nd Gen)","iPhone 11 Pro Max","iPhone 11 Pro","iPhone 11","iPhone XS Max","iPhone XS","iPhone XR","iPhone X","iPhone 8 Plus","iPhone 8","iPhone 7 Plus","iPhone 7","iPhone 6S Plus","iPhone 6S","iPhone 6 Plus","iPhone 6"],samsung_list=["Samsung Galaxy Note 20 Ultra","Samsung Galaxy Note 20","Samsung Galaxy Note 10 Plus","Samsung Galaxy Note 10","Samsung Galaxy Note 9","Samsung Galaxy Note 8","Samsung Galaxy S20 FE","Samsung Galaxy S20 Ultra","Samsung Galaxy S20 Plus","Samsung Galaxy S20 5G","Samsung Galaxy S20","Samsung Galaxy S10 Plus","Samsung Galaxy S10e","Samsung Galaxy S10 Lite","Samsung Galaxy S10 5G","Samsung Galaxy S10","Samsung Galaxy S9 Plus","Samsung Galaxy S9","Samsung Galaxy S8 Plus","Samsung Galaxy S8","Samsung Galaxy S7 Edge","Samsung Galaxy S7","Samsung Galaxy A71","Samsung Galaxy A70","Samsung Galaxy A51","Samsung Galaxy A50","Samsung Galaxy A21","Samsung Galaxy A20","Samsung Galaxy A11","Samsung Galaxy A10e","Samsung Galaxy A10"],part_button=null,imei="",device_type="";function leadPage(){var e=setInterval(function(){findByText("span","Dismiss")&&(findByText("span","Dismiss").click(),clearInterval(e)),checkExist("#mobile-table")&&clearInterval(e)},250);return checkExist("#mobile-table")||findByText("span","Dismiss")||!checkExist("div.table-hold")?RAN_WAITING:(find("div.table-hold").setAttribute("hidden",""),find("div.table-hold").id="old-table",createLeadTable(),updateLeadTable(),RAN_WORKED)}function createLeadTable(){var e=find("sale-item-list"),t=createTag(e,"div","mobile-table","table-hold"),a=createTag(t,"table","","table portal-table flatTable table-stripped table-responsive"),n=createTag(a,"tr","","header-row"),i=createTag(n,"th","","center-data");createTag(i,"div","","","Item"),n=createTagAppend(a,"tr","",""),i=createTag(n,"td","","center-data"),createTag(i,"span","item-data",""),n=createTagAppend(a,"tr","","header-row"),i=createTag(n,"th","","center-data"),createTag(i,"div","","","SKU"),n=createTagAppend(a,"tr","",""),i=createTag(n,"td","","center-data"),createTag(i,"span","sku-data",""),n=createTagAppend(a,"tr","","header-row"),i=createTag(n,"th","","center-data"),createTag(i,"div","","","Serial"),n=createTagAppend(a,"tr","",""),i=createTag(n,"td","","center-data"),createTag(i,"span","serial-data",""),n=createTagAppend(a,"tr","","header-row"),i=createTag(n,"th","","center-data"),createTag(i,"div","","","Available"),n=createTagAppend(a,"tr","",""),i=createTag(n,"td","","center-data"),createTag(i,"span","available-data",""),n=createTagAppend(a,"tr","","header-row"),i=createTag(n,"th","","center-data"),createTag(i,"div","","","Remove Part"),n=createTagAppend(a,"tr","",""),createTag(n,"td","remove-part-td","center-data")}function updateLeadTable(){checkExist("div.action-buttons")?null===part_button&&(console.log("running"),part_button=find("div.action-buttons"),find("#remove-part-td").append(part_button),find("button",part_button).append(document.createTextNode("Remove Part"))):part_button=null,findByText("div.device-detail","IMEI")&&(imei=find("div.details",findByText("div.device-detail","IMEI")).innerText);var e=findByAttribute("td","ng-if","isLeadReserveOrNoReserve() || isReturn()","","",find("#old-table"));null!=e&&(e=e.innerText,find("#sku-data").innerText=e);var t=findSibling("label","div.details","Device").textContent,a=findByAttribute("td","ng-click","editSaleItem(saleItem, true)","","",find("#old-table"));null!=a&&(a=a.innerText,device_type=""==t?getDeviceName(a):t,find("#item-data").innerText=a);var n=findAllByText("strong","Label");n.length>1?(window.localStorage.parts_amount=2,window.localStorage["part-serial2"]=n[1].parentElement.innerText.substring(7)):window.localStorage.parts_amount=1,window.localStorage["part-serial"]=n[0].parentElement.innerText.substring(7);var i=findByAttribute("td","ng-if","!isSaleItemService(saleItem) && hasSaleItemLabel(saleItem)","","",find("#old-table"));i&&(i=i.innerText.substring(6),find("#serial-data").innerText=i);var r=findByAttribute("span","ng-if","!saleItem.inventory.store_item.item.is_service","","",find("#old-table"));null!=r&&(r=r.innerText),checkExist("#mobile-table")&&(find("#item-data").innerText=a||"Error",find("#sku-data").innerText=e||"Error",r?find("#available-data").innerText=r:find("#available-data").innerTExt="Error")}function getDeviceName(e){if(e.includes("Samsung")){if(-1!=(t=inArray(e,samsung_list)))return samsung_list[t]}else if(e.includes("iPhone")){var t;if(-1!=(t=inArray(e,iphone_list)))return iphone_list[t]}return""}function selectDevicePage(){return findByText("button","Continue")&&!findByText("button","Continue").disabled||(checkExist("div.selected")||""==device_type||(setField("#device-type-searchbox","input",device_type.trim()+" Repair"),Waiter.addTable(function(e){console.log("First Table"),checkExist("div.selected")?Waiter.clearTablesBefore(2):checkExist("ul.search-dropdown li")&&(findByText("a","Device not found:")||""==find("#device-type-searchbox").value?findByText("a","Device not found:")&&(setField("#device-type-searchbox","input",device_type.replace(" Plus","+")),sleep(250).then(()=>{Waiter.clearTable(e)})):checkButtonClick(e,device_type.trim()+" Repair","a")?Waiter.clearTablesBefore(2):setField("#device-type-searchbox","input",device_type.replace(" Plus","+")))}),Waiter.addTable(function(e){console.log("Second Table"),checkExist("ul.search-dropdown li")&&(findByText("a","Device not found:")||find("#device-type-searchbox").value!=device_type.replace(" Plus","+")?findByText("a","Device not found:")&&(setField("#device-type-searchbox","input",device_type),sleep(250).then(()=>{Waiter.clearTable(e)})):checkButtonClick(e,device_type.replace(" Plus","+"),"a")?Waiter.clearTablesBefore(2):setField("#device-type-searchbox","input",device_type))}),Waiter.addTable(function(e){console.log("Third Table"),checkExist("ul.search-dropdown li")&&(findByText("a","Device not found:")||find("#device-type-searchbox").value!=device_type?findByText("a","Device not found:")&&Waiter.clearTable(e):checkButtonClick(e,device_type,"a")||Waiter.clearTablesBefore(e))})),Waiter.addTable(function(e){var t=findByAttribute("input","ng-model","deviceData.imei");if(t&&checkExist("div.selected")&&(Waiter.clearTable(e),15!=t.value.length))if(15==imei.length)setField(t,"input",imei);else{setField(t,"input",imei+"0");var a=1,n=setInterval(function(){findByAttribute("div","ng-if","isImeiInvalid()")?"Invalid"==findByAttribute("div","ng-if","isImeiInvalid()").textContent&&(setField(t,"input",imei+a.toString()),a+=1):findByText("button","Continue")&&clearInterval(n)},500)}})),Waiter.addTable(function(e){if(findByText("button","Continue")&&!findByText("button","Continue").disabled){var t=findByAttribute("input","ng-model","deviceData.serial"),a=findByAttribute("input","ng-model","deviceData.imei");t.value!=a.value&&t.value!=imei&&t.value!=imei.substring(0,14)||setField(t,"input",""),checkButtonClick(e,"Continue")}}),RAN_WORKED}function createWorkOrderPage(){return Waiter.isEmpty()||Waiter.clearAllTables(),Waiter.addSingle("samsung-warranty",function(){findByText("button","Standard Work Order")&&(checkExist("#customer-email")&&""==find("#customer-email").value&&setField("#customer-email","input","decline@customer.com"),findByText("button","Standard Work Order").click(),Waiter.clearSingle("samsung-warranty")),checkURL("https://portal.ubif.net/pos/device-repair-select/")||Waiter.clearSingle("samsung-warranty")}),Waiter.addTable(function(e){console.log("Table Number:",e),findByText("button","Create Work Order")?checkButtonClick(e,"Create Work Order"):(findByText("div.repair-info-title","Cracked Screen")&&findByText("div.repair-info-title","Cracked Screen").click(),checkExist("div.warranty-reason > select")&&(find("div.warranty-reason > select").value=0,runAngularTrigger("div.warranty-reason > select","change")),checkButtonClick(e,"Out Of Warranty"))}),Waiter.addTable(function(e){findByText("button","Create Work Order")?checkButtonClick(e,"Create Work Order"):findByText("button","Out Of Warranty")&&Waiter.clearTable(e)}),Waiter.addTable(function(e){findByText("button","Out Of Warranty")?findByText("button","Out Of Warranty").disabled?checkButtonClick(e,"Cracked Screen","div.repair-info-title"):checkButtonClick(e,"Out Of Warranty"):Waiter.clearTable(e)}),Waiter.addTable(function(e){findByText("button","Out Of Warranty")?findByText("button","Out Of Warranty").disabled?checkExist("div.warranty-reason > select")&&(find("div.warranty-reason > select").value=0,runAngularTrigger("div.warranty-reason > select","change"),Waiter.clearTable(e)):checkButtonClick(e,"Out Of Warranty"):Waiter.clearTable(e)}),Waiter.addTable(function(e){findByText("button","Out Of Warranty")?checkButtonClick(e,"Out Of Warranty"):Waiter.clearTable(e)}),Waiter.addTable(function(e){checkButtonClick(e,"Yes")||findByText("button","Submit and Open Work Order")&&Waiter.clearTable(e)}),Waiter.addTable(function(e){console.log("Table Number:",e),findByText("button","Submit and Open Work Order")&&checkExist("#customer-email")&&(""==find("#customer-email").value&&setField("#customer-email","input","decline@customer.com"),Waiter.clearTable(e))}),Waiter.addCheckButtonTable("Submit and Open Work Order"),RAN_WORKED}function workOrderPage(){Waiter.isEmpty()||Waiter.clearAllTables(),Waiter.addSingle("ticket-button",function(){!checkExist("#ticket-button")&&checkExist("div.header-buttons")&&createTag(find("div.header-buttons"),"button","ticket-button","btn blue fastclickable","Generate Ticket","background-color: rgb(38, 156, 216); color: white;").addEventListener("click",function(){"Generate Ticket"==find("#ticket-button").innerText?find("span.only-name").innerText.includes("IPHONE")?iPhoneinProgress():find("span.only-name").innerText.includes("SAMSUNG")&&inProgressSamsung():"Close Ticket"==find("#ticket-button").innerText&&(find("span.only-name").innerText.includes("IPHONE")?iPhoneCloseTicket():find("span.only-name").innerText.includes("SAMSUNG")&&samsungCloseTicket())});!checkExist("#scan-open-button")&&checkExist("div.table-card")&&(createTagBefore(find("div.table-card"),1,"button","scan-open-button","btn btn-cancel fastclickable","Scan Parts","width: 100%"),find("#scan-open-button").addEventListener("click",function(){findByAttribute("img.fastclickable","ng-click","openScanItemsModal()")&&findByAttribute("img.fastclickable","ng-click","openScanItemsModal()").click()}))},1e3),Waiter.addTable(function(e){checkButtonClick(e,"Cannot Scan Label")}),Waiter.addTable(function(e){checkExist("div.barcode-scan input")&&(setField("div.barcode-scan input","input",window.localStorage["part-serial"]),Waiter.clearTable(e))}),window.localStorage["parts-amount"]>1&&(Waiter.addTable(function(e){checkButtonClick(e,"Cannont Scan Label")}),Waiter.addTable(function(e){checkExist("div.barcode-scan input")&&(setField("div.barcode-scan input","input",window.localStorage["part-serial2"]),Waiter.clearTable(e))})),Waiter.addTable(function(e){checkButtonClick(e,"Proceed")});setInterval(function(){!checkExist("#scan-camera-button")&&findByText("h3.modal-title","VERIFY ITEM LABELS/SERIALS")&&findByAttribute("img.fastclickable","ng-click","openScanItemsModal()")&&checkExist("div.barcode-start")?(createTagBefore(find("div.barcode-start"),1,"button","scan-camera-button","btn btn-cancel fastclickable","Open Scanner","width: 100%"),find("#scan-camera-button").addEventListener("click",function(){findByText("button","Cannot Scan Label")&&(findByText("button","Cannot Scan Label").id="scan-label-button",find("#scan-label-button").click(),checkExist("#interactive")||createScanner())})):!checkExist("div.scan-sale-items-modal div.modal-row")||checkExist("#interactive")||checkExist("#scan-camera-button")||(createTagAppend(find("div.scan-sale-items-modal div.modal-row"),"button","scan-camera-button","btn btn-cancel fastclickable","Open Scanner","width: 100%"),find("#scan-camera-button").addEventListener("click",function(){checkExist("#interactive")||createScanner()})),checkExist("#interactive")&&checkExist("#scan-camera-button")&&remove("#scan-camera-button")},500)}function createScanner(){Waiter.addTable(function(e){checkExist("div.barcode-scan input")&&(find("div.barcode-scan input").id="barcode-scan-field",createTagAppend(findByAttribute("div","ng-if","!isAllInventoryScanned()"),"div","interactive","viewport"),addHTML("#interactive",'<input type="file" />'),addHTML("#interactive",'<video autoplay="true" preload="auto" src(unknown) muted="true" playsinline="true"></video><canvas class="drawingBuffer" width="640" height="480"'),createTag(find("#interactive"),"button","stop-camera-button","btn btn-cancel fastclickable","Close Camera","width: 100%"),find("#interactive").addEventListener("click",function(){Quagga.stop(),remove("#interactive")}),Waiter.clearTable(e),Quagga.init({inputStream:{name:"Live",type:"LiveStream",constraints:{width:1280,height:720},numOfWorkers:8,locate:!0,target:document.querySelector("#interactive.viewport")},decoder:{readers:["code_128_reader"]},halfSample:!1,frequency:25,patchSize:"medium"},function(e){e?console.log(e):(console.log("Initialization finished. Ready to start"),Quagga.start())}),console.log("Going to run On Detected"),Quagga.onDetected(function(e){e.codeResult&&(e.codeResult.code.lenght>10&&e.codeResult.code.includes("-")?(setField("#barcode-scan-field","input",e.codeResult.code),Quagga.stop(),remove("#interactive")):10==e.codeResult.code.length?(setField("#barcode-scan-field","input",e.codeResult.code),Quagga.stop(),remove("#interactive")):setField("#barcode-scan-field","input",e.codeResult.code))}))})}var note_button="#paneled-side-bar > div > div.bar-buttons > button.btn.blue.fastclickable";function iPhoneinProgress(){Waiter.isEmpty()||Waiter.clearAllTables(),createNote("Repair in Progress","Device is being repaired."),Waiter.addCheckButtonTable("Create Repair Ticket"),Waiter.addCheckButtonTable("Proceed")}function iPhoneCloseTicket(){Waiter.isEmpty()||(Waiter.clearAllTables(),console.log("Clear Table")),createNote("Quality Inspection","Device is repaired and is going through testing."),console.log("Setting Work Order to Quality Inspection"),Waiter.addCheckButtonTable("Add","button.btn-confirm"),Waiter.addCheckButtonTable("Test Complete"),Waiter.addCheckButtonTable("Done"),Waiter.addTable(function(e){checkExist("div.toast-message")&&sleep(250).then(()=>{Waiter.clearTable(e)})}),Waiter.addTable(function(e){checkExist("span.bg-quality-inspection")&&(createNote("Repaired - RFP","Device is repaired and ready to be returned to the customer.",1e3),Waiter.clearTable(e))}),Waiter.addCheckButtonTable("Add","button.btn-confirm"),Waiter.addCheckButtonTable("Check Out","span.hover-text"),Waiter.addTable(function(e){checkButtonClick(e,"TRADE CREDIT")&&Waiter.clearAllTables()})}function inProgressSamsung(){Waiter.isEmpty()||Waiter.clearAllTables(),Waiter.addCheckButtonTable("Create GSPN Repair Ticket"),Waiter.addCheckButtonTable("Create Repair Ticket"),Waiter.addCheckButtonTable("Close",".modal-dialog button"),Waiter.addTable(function(e){checkExist("div.extra-actions > select > option")&&(createNote("Repair in Progress","Device is being repaired."),Waiter.clearAllTables())})}function samsungCloseTicket(){Waiter.isEmpty()||Waiter.clearAllTables(),createNote("Quality Inspection","Device is reapired and going through testing."),Waiter.addCheckButtonTable("Add","button.btn-confirm"),Waiter.addCheckButtonTable("Test Complete"),Waiter.addCheckButtonTable("Done"),Waiter.addTable(function(e){checkExist("div.toast-message")&&sleep(250).then(()=>{Waiter.clearTable(e)})}),Waiter.addTable(function(e){checkExist("span.bg-quality-inspection")&&(checkExist("#paneled-side-bar.closed")&&find(note_button).click(),sleep(250).then(()=>{Waiter.clearTable(e)}))}),Waiter.addTable(function(e){if(checkExist("span.bg-quality-inspection")){if(!checkExist("#paneled-side-bar.closed"))for(var t=findAll("div.extra-actions > select > option"),a=0;a<t.length;a++)if("Repaired - RFP"==t[a].innerText){find("select.editor-add-in").value=a;break}find(".note-placeholder").style="display: none;",find(".note-editable").innerHTML="Device is repaired and ready to be returned to the customer.",setField(".note-editable","input","Device is repaired and ready to be returned to the customer."),find("select.editor-add-in").click(),runAngularTrigger("div.extra-actions > select","change"),find("#private").checked&&find("#private").click();var n=findByAttribute("select","ng-model","selectedOptions.gspn_defect_category_type_id"),i=findByAttribute("select","ng-model","selectedOptions.gspn_defect_code_id"),r=findByAttribute("select","ng-model","selectedOptions.gspn_repair_code_id");n.id="selector-1",i.id="selector-2",r.id="selector-3",n.value=8,runAngularTrigger("#selector-1","change"),i.value=2,runAngularTrigger("#selector-2","change"),runAngularTrigger("#selector-2","click"),r.value=1,runAngularTrigger("#selector-3","change"),sleep(250).then(()=>{findByText("button","Create Note").click(),Waiter.clearTable(e)})}}),Waiter.addTable(function(e){checkButtonClick(e,"Yes")||findByText("button.btn-confirm","Add")&&Waiter.clearTable(e)}),Waiter.addCheckButtonTable("Add","Button.btn-confirm"),Waiter.addCheckButtonTable("Test Complete"),Waiter.addCheckButtonTable("Done"),Waiter.addCheckButtonTable("Check Out","span.hover-text"),Waiter.addTable(function(e){checkButtonClick(e,"TRADE CREDIT")&&Waiter.clearAllTables()})}function createNote(e,t,a=0){return find(note_button).click(),sleep(a+250).then(()=>{if(!checkExist("#paneled-side-bar.closed"))for(var n=findAll("div.extra-actions > select > option"),i=0;i<n.length;i++)if(n[i].innerText==e){find("select.editor-add-in").value=i;break}find(".note-placeholder").style="display: none;",find(".note-editable").innerHTML=t,setField(".note-editable","input",t),find("select.editor-add-in").click(),runAngularTrigger("div.extra-actions > select","change"),find("#private").checked&&find("#private").click(),sleep(a+250).then(()=>{findByText("button","Create Note").click()}),sleep(a+350).then(()=>{find(note_button).click()})}),a+600}function checkButtonClick(e,t,a="button"){console.log("Table Number:",e),console.log("Text:",t),console.log("Selector:",a);var n=findByText(a,t);return!(!n||n.disabled)&&(n.click(),sleep(250).then(()=>{Waiter.clearTable(e)}),!0)}var Waiter={single_list:[],waiting_list:[],table_list:[],addSingle:function(e,t,a=500){Waiter.single_list[e]=setInterval(function(){t()},a)},clearSingle:function(e){null!=Waiter.single_list[e]&&clearInterval(Waiter.single_list[e])},clearAllSingles:function(){for(var e in Waiter.single_list)clearInterval(Waiter.single_list[e])},addCheckButtonTable:function(e,t="button",a=1e3,n=!1){return Waiter.addTable(function(a){var n=findByText(t,e);n&&(n.disabled||(n.click(),sleep(250).then(()=>{Waiter.clearTable(a)})))})},addTable:function(e,t=1e3,a=!1){var n=Waiter.waiting_list.length;return Waiter.table_list.push(!1),Waiter.waiting_list.push(setInterval(Waiter.checkTable,t,n,e,a)),n},checkTable:function(e,t,a){0==a?e>0?Waiter.table_list[e-1]&&t(e):(console.log("Waiter, Clear: False, Table Number:",e,"Order Check:",t),t(e)):"function"==a.typeof&&(a()?Waiter.clearAllTables():e>0?Waiter.table_list[e-1]&&t(e):t(e))},clearTable:function(e){e<Waiter.table_list.length&&e<Waiter.waiting_list.length&&(Waiter.table_list[e]=!0,clearInterval(Waiter.waiting_list[e]))},clearTablesBefore:function(e){for(var t=0;t<=e;t++)Waiter.clearTable(t)},tableClearBefore:function(e){for(var t=0;t<=e;t++)if(!Waiter.table_list[t])return!1;return!0},clearAllTables:function(){console.log("-----Clear All Tables-----"),console.log("Amount of Tables:",Waiter.amountOfTables());for(var e=0;e<Waiter.waiting_list.length;e++)clearInterval(Waiter.waiting_list[e]);Waiter.waiting_list=[],Waiter.table_list=[]},amountOfTables:function(){return Waiter.waiting_list.length},isEmpty:function(){return!(Waiter.amountOfTables()>0)}};function inArray(e,t){for(var a=0;a<t.length;a++)if(e.includes(t[a]))return a;return-1}function replaceClass(e,t,a){if(e.className.includes(t)){var n=e.className;e.className=n.replaceAll(t,a)}}function getSelectorForElement(e){let t;for(;e;){let r=e.localName;if(!r)break;r=r.toLowerCase();var a=e.parentElement;if(a){var n=a.children;if(n.lenght>1){let t=0;var i=[...n].findIndex(a=>(e.localName===a.localName&&t++,a===elem))+1;i>1&&t>1&&(r+=":nth-child("+i+")")}}t=r+(t?">"+t:""),e=a}}
